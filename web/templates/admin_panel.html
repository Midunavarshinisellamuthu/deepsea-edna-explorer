{% extends "base.html" %}

{% block title %}DeepSea eDNA Explorer - Admin Panel{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{{ url_for('dashboard') }}" class="text-primary"><i class="fas fa-home me-1"></i>Dashboard</a></li>
                <li class="breadcrumb-item active" aria-current="page"><i class="fas fa-user-shield me-1"></i>Admin Panel</li>
            </ol>
        </nav>
    </div>
</div>

<div class="row align-items-center mb-4">
    <div class="col-md-8">
        <h1 class="display-5 fw-bold text-primary"><i class="fas fa-user-shield me-2"></i>Admin Panel</h1>
        <p class="lead">Manage users, projects, and system settings for the DeepSea eDNA Explorer platform.</p>
        <div class="ocean-divider mb-4"></div>
    </div>
    <div class="col-md-4 text-md-end">
        <div class="btn-group">
            <button type="button" class="btn ocean-button" data-bs-toggle="modal" data-bs-target="#systemBackupModal">
                <i class="fas fa-database me-1"></i>System Backup
            </button>
            <button type="button" class="btn ocean-button-secondary" id="refreshStatsBtn">
                <i class="fas fa-sync-alt me-1"></i>Refresh Stats
            </button>
        </div>
    </div>
</div>

<!-- Admin Dashboard -->
<div class="row mb-4">
    <div class="col-md-3 mb-4">
        <div class="card ocean-card h-100">
            <div class="card-body text-center">
                <div class="avatar-bubble mx-auto mb-3" style="width: 80px; height: 80px;">
                    <i class="fas fa-users fa-3x text-primary"></i>
                </div>
                <h3 class="display-4 fw-bold">{{ users_count }}</h3>
                <p class="text-muted mb-0">Registered Users</p>
            </div>
            <div class="card-footer bg-transparent border-0 text-center">
                <a href="#usersTab" class="btn btn-sm btn-outline-primary" data-bs-toggle="tab" role="tab">
                    <i class="fas fa-user-cog me-1"></i>Manage Users
                </a>
            </div>
        </div>
    </div>
    
    <div class="col-md-3 mb-4">
        <div class="card ocean-card h-100">
            <div class="card-body text-center">
                <div class="avatar-bubble mx-auto mb-3" style="width: 80px; height: 80px;">
                    <i class="fas fa-project-diagram fa-3x text-primary"></i>
                </div>
                <h3 class="display-4 fw-bold">{{ projects_count }}</h3>
                <p class="text-muted mb-0">Active Projects</p>
            </div>
            <div class="card-footer bg-transparent border-0 text-center">
                <a href="#projectsTab" class="btn btn-sm btn-outline-primary" data-bs-toggle="tab" role="tab">
                    <i class="fas fa-tasks me-1"></i>Manage Projects
                </a>
            </div>
        </div>
    </div>
    
    <div class="col-md-3 mb-4">
        <div class="card ocean-card h-100">
            <div class="card-body text-center">
                <div class="avatar-bubble mx-auto mb-3" style="width: 80px; height: 80px;">
                    <i class="fas fa-vial fa-3x text-primary"></i>
                </div>
                <h3 class="display-4 fw-bold">{{ samples_count }}</h3>
                <p class="text-muted mb-0">Total Samples</p>
            </div>
            <div class="card-footer bg-transparent border-0 text-center">
                <a href="#samplesTab" class="btn btn-sm btn-outline-primary" data-bs-toggle="tab" role="tab">
                    <i class="fas fa-microscope me-1"></i>View Samples
                </a>
            </div>
        </div>
    </div>
    
    <div class="col-md-3 mb-4">
        <div class="card ocean-card h-100">
            <div class="card-body text-center">
                <div class="avatar-bubble mx-auto mb-3" style="width: 80px; height: 80px;">
                    <i class="fas fa-server fa-3x text-primary"></i>
                </div>
                <h3 class="display-4 fw-bold">{{ server_uptime }}</h3>
                <p class="text-muted mb-0">Server Uptime</p>
            </div>
            <div class="card-footer bg-transparent border-0 text-center">
                <a href="#systemTab" class="btn btn-sm btn-outline-primary" data-bs-toggle="tab" role="tab">
                    <i class="fas fa-cogs me-1"></i>System Settings
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Admin Content Tabs -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card ocean-card">
            <div class="card-header bg-primary p-0">
                <ul class="nav nav-tabs card-header-tabs" id="adminTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="users-tab" data-bs-toggle="tab" data-bs-target="#usersTab" type="button" role="tab" aria-controls="usersTab" aria-selected="true">
                            <i class="fas fa-users me-1"></i>Users
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="projects-tab" data-bs-toggle="tab" data-bs-target="#projectsTab" type="button" role="tab" aria-controls="projectsTab" aria-selected="false">
                            <i class="fas fa-project-diagram me-1"></i>Projects
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="samples-tab" data-bs-toggle="tab" data-bs-target="#samplesTab" type="button" role="tab" aria-controls="samplesTab" aria-selected="false">
                            <i class="fas fa-vial me-1"></i>Samples
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="system-tab" data-bs-toggle="tab" data-bs-target="#systemTab" type="button" role="tab" aria-controls="systemTab" aria-selected="false">
                            <i class="fas fa-cogs me-1"></i>System
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="logs-tab" data-bs-toggle="tab" data-bs-target="#logsTab" type="button" role="tab" aria-controls="logsTab" aria-selected="false">
                            <i class="fas fa-clipboard-list me-1"></i>Logs
                        </button>
                    </li>
                </ul>
            </div>
            <div class="card-body">
                <div class="tab-content" id="adminTabContent">
                    <!-- Users Tab -->
                    <div class="tab-pane fade show active" id="usersTab" role="tabpanel" aria-labelledby="users-tab">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h4 class="text-primary"><i class="fas fa-user-cog me-2"></i>User Management</h4>
                            <div class="input-group" style="max-width: 300px;">
                                <input type="text" class="form-control ocean-input" placeholder="Search users" id="userSearch">
                                <button class="btn btn-outline-primary" type="button">
                                    <i class="fas fa-search"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="table-responsive">
                            <table class="table table-hover align-middle">
                                <thead>
                                    <tr>
                                        <th>User</th>
                                        <th>Email</th>
                                        <th>Role</th>
                                        <th>Status</th>
                                        <th>Joined</th>
                                        <th>Projects</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for i in range(5) %}
                                    <tr>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div class="avatar-bubble me-2">
                                                    <img src="{{ url_for('static', filename='img/avatar_' ~ (i+1) ~ '.jpg') }}" alt="User Avatar" class="rounded-circle" width="40" height="40">
                                                </div>
                                                <div>
                                                    <div class="fw-bold">{{ ['Dr. Jane Smith', 'Prof. Michael Chen', 'Dr. Sarah Johnson', 'Alex Rodriguez', 'Dr. Emily Taylor'][i] }}</div>
                                                    <small class="text-muted">{{ ['jsmith', 'mchen', 'sjohnson', 'arod', 'etaylor'][i] }}</small>
                                                </div>
                                            </div>
                                        </td>
                                        <td>{{ ['jane.smith@marine.edu', 'michael.chen@oceanic.org', 'sarah.j@research.net', 'alex@marinebio.com', 'emily.t@deepsea.org'][i] }}</td>
                                        <td>
                                            <span class="badge {{ ['bg-danger', 'bg-primary', 'bg-primary', 'bg-success', 'bg-warning'][i] }}">
                                                {{ ['Admin', 'Researcher', 'Researcher', 'Contributor', 'Moderator'][i] }}
                                            </span>
                                        </td>
                                        <td>
                                            <span class="badge {{ ['bg-success', 'bg-success', 'bg-warning', 'bg-success', 'bg-danger'][i] }}">
                                                {{ ['Active', 'Active', 'Pending', 'Active', 'Suspended'][i] }}
                                            </span>
                                        </td>
                                        <td>{{ ['Jan 15, 2023', 'Mar 22, 2023', 'Feb 10, 2023', 'Apr 5, 2023', 'Dec 12, 2022'][i] }}</td>
                                        <td>{{ [8, 5, 3, 2, 6][i] }}</td>
                                        <td>
                                            <div class="btn-group">
                                                <button type="button" class="btn btn-sm btn-outline-primary">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button type="button" class="btn btn-sm btn-outline-danger">
                                                    <i class="fas fa-user-slash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                        
                        <nav aria-label="User pagination">
                            <ul class="pagination justify-content-center">
                                <li class="page-item disabled">
                                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                                </li>
                                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#">Next</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                    
                    <!-- Projects Tab -->
                    <div class="tab-pane fade" id="projectsTab" role="tabpanel" aria-labelledby="projects-tab">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h4 class="text-primary"><i class="fas fa-project-diagram me-2"></i>Project Management</h4>
                            <div class="input-group" style="max-width: 300px;">
                                <input type="text" class="form-control ocean-input" placeholder="Search projects" id="projectSearch">
                                <button class="btn btn-outline-primary" type="button">
                                    <i class="fas fa-search"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="table-responsive">
                            <table class="table table-hover align-middle">
                                <thead>
                                    <tr>
                                        <th>Project</th>
                                        <th>Owner</th>
                                        <th>Status</th>
                                        <th>Created</th>
                                        <th>Samples</th>
                                        <th>Collaborators</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for i in range(5) %}
                                    <tr>
                                        <td>
                                            <div class="fw-bold">{{ ['Pacific Coral Reef Biodiversity', 'Arctic Marine Mammals', 'Mediterranean Fish Populations', 'Gulf Stream Microbiome', 'Deep Sea Hydrothermal Vents'][i] }}</div>
                                            <small class="text-muted">ID: PRJ-{{ 1000 + i }}</small>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div class="avatar-bubble me-2">
                                                    <img src="{{ url_for('static', filename='img/avatar_' ~ (i+1) ~ '.jpg') }}" alt="User Avatar" class="rounded-circle" width="30" height="30">
                                                </div>
                                                <div>{{ ['Dr. Jane Smith', 'Prof. Michael Chen', 'Dr. Sarah Johnson', 'Alex Rodriguez', 'Dr. Emily Taylor'][i] }}</div>
                                            </div>
                                        </td>
                                        <td>
                                            <span class="badge {{ ['bg-success', 'bg-warning', 'bg-success', 'bg-info', 'bg-danger'][i] }}">
                                                {{ ['Active', 'In Progress', 'Active', 'Draft', 'Archived'][i] }}
                                            </span>
                                        </td>
                                        <td>{{ ['Jan 15, 2023', 'Mar 22, 2023', 'Feb 10, 2023', 'Apr 5, 2023', 'Dec 12, 2022'][i] }}</td>
                                        <td>{{ [12, 8, 15, 5, 20][i] }}</td>
                                        <td>{{ [3, 5, 2, 1, 4][i] }}</td>
                                        <td>
                                            <div class="btn-group">
                                                <button type="button" class="btn btn-sm btn-outline-primary">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button type="button" class="btn btn-sm btn-outline-warning">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button type="button" class="btn btn-sm btn-outline-danger">
                                                    <i class="fas fa-trash-alt"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Samples Tab -->
                    <div class="tab-pane fade" id="samplesTab" role="tabpanel" aria-labelledby="samples-tab">
                        <h4 class="text-primary mb-3"><i class="fas fa-vial me-2"></i>Sample Management</h4>
                        
                        <div class="row mb-3">
                            <div class="col-md-3 mb-3">
                                <div class="card ocean-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title">Sample Storage</h5>
                                        <div class="progress mb-3" style="height: 10px;">
                                            <div class="progress-bar bg-primary" role="progressbar" style="width: 65%" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                        <p class="card-text">65% of storage used (650GB/1TB)</p>
                                        <a href="#" class="btn btn-sm btn-outline-primary">Manage Storage</a>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-3 mb-3">
                                <div class="card ocean-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title">Sample Types</h5>
                                        <div class="d-flex justify-content-between mb-2">
                                            <span>eDNA</span>
                                            <span class="badge bg-primary">65%</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <span>Tissue</span>
                                            <span class="badge bg-info">20%</span>
                                        </div>
                                        <div class="d-flex justify-content-between">
                                            <span>Other</span>
                                            <span class="badge bg-secondary">15%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-3 mb-3">
                                <div class="card ocean-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title">Processing Status</h5>
                                        <div class="d-flex justify-content-between mb-2">
                                            <span>Processed</span>
                                            <span class="badge bg-success">75%</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <span>In Queue</span>
                                            <span class="badge bg-warning">15%</span>
                                        </div>
                                        <div class="d-flex justify-content-between">
                                            <span>Failed</span>
                                            <span class="badge bg-danger">10%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-3 mb-3">
                                <div class="card ocean-card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title">Sample Locations</h5>
                                        <div class="d-flex justify-content-between mb-2">
                                            <span>Pacific</span>
                                            <span class="badge bg-primary">45%</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <span>Atlantic</span>
                                            <span class="badge bg-info">30%</span>
                                        </div>
                                        <div class="d-flex justify-content-between">
                                            <span>Other</span>
                                            <span class="badge bg-secondary">25%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card ocean-card">
                            <div class="card-header bg-primary text-white">
                                <h5 class="mb-0">Recent Samples</h5>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Sample ID</th>
                                                <th>Name</th>
                                                <th>Project</th>
                                                <th>Type</th>
                                                <th>Collection Date</th>
                                                <th>Status</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for i in range(5) %}
                                            <tr>
                                                <td>SMP-{{ 2000 + i }}</td>
                                                <td>{{ ['Coral Reef Sample A', 'Arctic Water Column B', 'Mediterranean Sediment C', 'Gulf Stream Surface D', 'Hydrothermal Vent E'][i] }}</td>
                                                <td>{{ ['Pacific Coral Reef', 'Arctic Marine', 'Mediterranean Fish', 'Gulf Stream', 'Deep Sea Vents'][i] }}</td>
                                                <td>{{ ['eDNA', 'eDNA', 'Sediment', 'Water', 'Tissue'][i] }}</td>
                                                <td>{{ ['2023-01-15', '2023-03-22', '2023-02-10', '2023-04-05', '2022-12-12'][i] }}</td>
                                                <td>
                                                    <span class="badge {{ ['bg-success', 'bg-success', 'bg-warning', 'bg-info', 'bg-danger'][i] }}">
                                                        {{ ['Processed', 'Processed', 'Processing', 'Queued', 'Failed'][i] }}
                                                    </span>
                                                </td>
                                                <td>
                                                    <div class="btn-group">
                                                        <button type="button" class="btn btn-sm btn-outline-primary">
                                                            <i class="fas fa-eye"></i>
                                                        </button>
                                                        <button type="button" class="btn btn-sm btn-outline-danger">
                                                            <i class="fas fa-trash-alt"></i>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- System Tab -->
                    <div class="tab-pane fade" id="systemTab" role="tabpanel" aria-labelledby="system-tab">
                        <h4 class="text-primary mb-3"><i class="fas fa-cogs me-2"></i>System Settings</h4>
                        
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <div class="card ocean-card mb-4">
                                    <div class="card-header bg-primary text-white">
                                        <h5 class="mb-0">Server Status</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <h6>CPU Usage</h6>
                                                <div class="progress mb-2" style="height: 10px;">
                                                    <div class="progress-bar bg-success" role="progressbar" style="width: 35%" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100"></div>
                                                </div>
                                                <small class="text-muted">35% (8 cores @ 3.5GHz)</small>
                                            </div>
                                            <div class="col-md-6">
                                                <h6>Memory Usage</h6>
                                                <div class="progress mb-2" style="height: 10px;">
                                                    <div class="progress-bar bg-warning" role="progressbar" style="width: 68%" aria-valuenow="68" aria-valuemin="0" aria-valuemax="100"></div>
                                                </div>
                                                <small class="text-muted">68% (21.8GB/32GB)</small>
                                            </div>
                                        </div>
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <h6>Disk Usage</h6>
                                                <div class="progress mb-2" style="height: 10px;">
                                                    <div class="progress-bar bg-info" role="progressbar" style="width: 52%" aria-valuenow="52" aria-valuemin="0" aria-valuemax="100"></div>
                                                </div>
                                                <small class="text-muted">52% (520GB/1TB)</small>
                                            </div>
                                            <div class="col-md-6">
                                                <h6>Network</h6>
                                                <div class="progress mb-2" style="height: 10px;">
                                                    <div class="progress-bar bg-primary" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                                </div>
                                                <small class="text-muted">25% (250Mbps/1Gbps)</small>
                                            </div>
                                        </div>
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <strong>Uptime:</strong> 45 days, 12 hours
                                            </div>
                                            <div>
                                                <strong>Last Reboot:</strong> 2023-03-15 02:30 UTC
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="card ocean-card">
                                    <div class="card-header bg-primary text-white">
                                        <h5 class="mb-0">Maintenance</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="list-group">
                                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                                <div>
                                                    <i class="fas fa-database text-primary me-2"></i>
                                                    Database Backup
                                                </div>
                                                <span class="badge bg-success">Last: 6 hours ago</span>
                                            </a>
                                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                                <div>
                                                    <i class="fas fa-broom text-primary me-2"></i>
                                                    Clear Temporary Files
                                                </div>
                                                <span class="badge bg-warning">Last: 3 days ago</span>
                                            </a>
                                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                                <div>
                                                    <i class="fas fa-sync-alt text-primary me-2"></i>
                                                    Update System
                                                </div>
                                                <span class="badge bg-danger">Updates Available</span>
                                            </a>
                                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                                <div>
                                                    <i class="fas fa-shield-alt text-primary me-2"></i>
                                                    Security Scan
                                                </div>
                                                <span class="badge bg-success">Last: 1 day ago</span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="card ocean-card mb-4">
                                    <div class="card-header bg-primary text-white">
                                        <h5 class="mb-0">System Configuration</h5>
                                    </div>
                                    <div class="card-body">
                                        <form>
                                            <div class="mb-3">
                                                <label for="maxUploadSize" class="form-label">Maximum Upload Size (MB)</label>
                                                <input type="number" class="form-control ocean-input" id="maxUploadSize" value="500">
                                            </div>
                                            <div class="mb-3">
                                                <label for="maxProjectsPerUser" class="form-label">Maximum Projects Per User</label>
                                                <input type="number" class="form-control ocean-input" id="maxProjectsPerUser" value="20">
                                            </div>
                                            <div class="mb-3">
                                                <label for="defaultStorageQuota" class="form-label">Default Storage Quota (GB)</label>
                                                <input type="number" class="form-control ocean-input" id="defaultStorageQuota" value="50">
                                            </div>
                                            <div class="mb-3">
                                                <label for="systemEmail" class="form-label">System Email</label>
                                                <input type="email" class="form-control ocean-input" id="systemEmail" value="system@deepsea-edna.org">
                                            </div>
                                            <div class="mb-3">
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" id="enableRegistration" checked>
                                                    <label class="form-check-label" for="enableRegistration">Enable User Registration</label>
                                                </div>
                                            </div>
                                            <div class="mb-3">
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" id="enablePublicProjects" checked>
                                                    <label class="form-check-label" for="enablePublicProjects">Allow Public Projects</label>
                                                </div>
                                            </div>
                                            <div class="mb-3">
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" id="enableMaintenanceMode">
                                                    <label class="form-check-label" for="enableMaintenanceMode">Maintenance Mode</label>
                                                </div>
                                            </div>
                                            <div class="text-end">
                                                <button type="button" class="btn ocean-button">Save Settings</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                
                                <div class="card ocean-card">
                                    <div class="card-header bg-primary text-white">
                                        <h5 class="mb-0">Analysis Pipeline Configuration</h5>
                                    </div>
                                    <div class="card-body">
                                        <form>
                                            <div class="mb-3">
                                                <label for="maxConcurrentAnalyses" class="form-label">Max Concurrent Analyses</label>
                                                <input type="number" class="form-control ocean-input" id="maxConcurrentAnalyses" value="5">
                                            </div>
                                            <div class="mb-3">
                                                <label for="defaultReferenceDB" class="form-label">Default Reference Database</label>
                                                <select class="form-select ocean-input" id="defaultReferenceDB">
                                                    <option value="ncbi">NCBI GenBank</option>
                                                    <option value="bold" selected>BOLD Systems</option>
                                                    <option value="silva">SILVA rRNA</option>
                                                    <option value="custom">Custom Database</option>
                                                </select>
                                            </div>
                                            <div class="mb-3">
                                                <label for="analysisTimeout" class="form-label">Analysis Timeout (hours)</label>
                                                <input type="number" class="form-control ocean-input" id="analysisTimeout" value="24">
                                            </div>
                                            <div class="mb-3">
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" id="enableGPUAcceleration" checked>
                                                    <label class="form-check-label" for="enableGPUAcceleration">Enable GPU Acceleration</label>
                                                </div>
                                            </div>
                                            <div class="text-end">
                                                <button type="button" class="btn ocean-button">Save Pipeline Settings</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Logs Tab -->
                    <div class="tab-pane fade" id="logsTab" role="tabpanel" aria-labelledby="logs-tab">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h4 class="text-primary"><i class="fas fa-clipboard-list me-2"></i>System Logs</h4>
                            <div class="btn-group">
                                <button type="button" class="btn btn-sm btn-outline-primary">
                                    <i class="fas fa-download me-1"></i>Download Logs
                                </button>
                                <button type="button" class="btn btn-sm btn-outline-secondary">
                                    <i class="fas fa-trash-alt me-1"></i>Clear Logs
                                </button>
                            </div>
                        </div>
                        
                        <div class="card ocean-card mb-4">
                            <div class="card-header bg-primary text-white">
                                <ul class="nav nav-tabs card-header-tabs" id="logTabs" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="system-logs-tab" data-bs-toggle="tab" data-bs-target="#systemLogsTab" type="button" role="tab" aria-controls="systemLogsTab" aria-selected="true">
                                            System
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="access-logs-tab" data-bs-toggle="tab" data-bs-target="#accessLogsTab" type="button" role="tab" aria-controls="accessLogsTab" aria-selected="false">
                                            Access
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="error-logs-tab" data-bs-toggle="tab" data-bs-target="#errorLogsTab" type="button" role="tab" aria-controls="errorLogsTab" aria-selected="false">
                                            Error
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="analysis-logs-tab" data-bs-toggle="tab" data-bs-target="#analysisLogsTab" type="button" role="tab" aria-controls="analysisLogsTab" aria-selected="false">
                                            Analysis
                                        </button>
                                    </li>
                                </ul>
                            </div>
                            <div class="card-body">
                                <div class="tab-content" id="logTabContent">
                                    <div class="tab-pane fade show active" id="systemLogsTab" role="tabpanel" aria-labelledby="system-logs-tab">
                                        <div class="log-container bg-dark text-light p-3" style="height: 400px; overflow-y: auto; font-family: monospace; font-size: 0.9rem;">
                                            <div class="log-entry">[2023-05-15 08:00:12] [INFO] System startup complete</div>
                                            <div class="log-entry">[2023-05-15 08:01:05] [INFO] Database connection established</div>
                                            <div class="log-entry">[2023-05-15 08:02:30] [INFO] Scheduled backup started</div>
                                            <div class="log-entry">[2023-05-15 08:05:45] [INFO] Scheduled backup completed successfully</div>
                                            <div class="log-entry">[2023-05-15 09:15:22] [WARNING] High memory usage detected (75%)</div>
                                            <div class="log-entry">[2023-05-15 09:20:18] [INFO] Memory usage normalized (65%)</div>
                                            <div class="log-entry">[2023-05-15 10:30:05] [INFO] User authentication service restarted</div>
                                            <div class="log-entry">[2023-05-15 11:45:12] [INFO] System update check started</div>
                                            <div class="log-entry">[2023-05-15 11:46:30] [INFO] System update available: v2.5.3</div>
                                            <div class="log-entry">[2023-05-15 12:00:00] [INFO] Daily statistics generation started</div>
                                            <div class="log-entry">[2023-05-15 12:02:15] [INFO] Daily statistics generation completed</div>
                                            <div class="log-entry">[2023-05-15 13:10:45] [WARNING] Disk space running low on /data partition (85% used)</div>
                                            <div class="log-entry">[2023-05-15 14:25:30] [INFO] Temporary files cleanup started</div>
                                            <div class="log-entry">[2023-05-15 14:28:12] [INFO] Temporary files cleanup completed, 2.5GB freed</div>
                                            <div class="log-entry">[2023-05-15 15:00:00] [INFO] Hourly system health check passed</div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="accessLogsTab" role="tabpanel" aria-labelledby="access-logs-tab">
                                        <div class="log-container bg-dark text-light p-3" style="height: 400px; overflow-y: auto; font-family: monospace; font-size: 0.9rem;">
                                            <div class="log-entry">[2023-05-15 08:05:12] [INFO] User jsmith logged in from 192.168.1.45</div>
                                            <div class="log-entry">[2023-05-15 08:10:35] [INFO] User mchen logged in from 203.0.113.25</div>
                                            <div class="log-entry">[2023-05-15 08:15:22] [WARNING] Failed login attempt for user admin from 198.51.100.17</div>
                                            <div class="log-entry">[2023-05-15 08:15:45] [WARNING] Failed login attempt for user admin from 198.51.100.17</div>
                                            <div class="log-entry">[2023-05-15 08:16:02] [WARNING] Failed login attempt for user admin from 198.51.100.17</div>
                                            <div class="log-entry">[2023-05-15 08:16:05] [ALERT] Account 'admin' locked due to multiple failed login attempts</div>
                                            <div class="log-entry">[2023-05-15 09:20:18] [INFO] User etaylor logged in from 172.16.254.1</div>
                                            <div class="log-entry">[2023-05-15 09:45:30] [INFO] User jsmith logged out</div>
                                            <div class="log-entry">[2023-05-15 10:15:12] [INFO] User arod logged in from 192.0.2.146</div>
                                            <div class="log-entry">[2023-05-15 11:05:45] [INFO] User sjohnson logged in from 203.0.113.88</div>
                                            <div class="log-entry">[2023-05-15 11:30:22] [INFO] User mchen logged out</div>
                                            <div class="log-entry">[2023-05-15 12:10:15] [INFO] User jsmith logged in from 192.168.1.45</div>
                                            <div class="log-entry">[2023-05-15 13:25:40] [INFO] User etaylor logged out</div>
                                            <div class="log-entry">[2023-05-15 14:05:12] [INFO] User admin logged in from 192.168.1.1</div>
                                            <div class="log-entry">[2023-05-15 14:06:30] [INFO] Admin unlocked user account 'admin'</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- System Backup Modal -->
<div class="modal fade" id="systemBackupModal" tabindex="-1" aria-labelledby="systemBackupModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="systemBackupModalLabel"><i class="fas fa-database me-2"></i>System Backup</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label for="backupType" class="form-label">Backup Type</label>
                        <select class="form-select ocean-input" id="backupType">
                            <option value="full">Full System Backup</option>
                            <option value="database">Database Only</option>
                            <option value="files">User Files Only</option>
                            <option value="config">Configuration Only</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="backupLocation" class="form-label">Backup Location</label>
                        <select class="form-select ocean-input" id="backupLocation">
                            <option value="local">Local Storage</option>
                            <option value="cloud">Cloud Storage</option>
                            <option value="external">External Drive</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="compressBackup" checked>
                            <label class="form-check-label" for="compressBackup">
                                Compress Backup
                            </label>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="encryptBackup" checked>
                            <label class="form-check-label" for="encryptBackup">
                                Encrypt Backup
                            </label>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn ocean-button">Start Backup</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}