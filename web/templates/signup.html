{% extends "base.html" %}

{% block title %}DeepSea eDNA Explorer - Sign Up{% endblock %}

{% block content %}
<div class="ocean-login-container">
    <div class="ocean-waves">
        <div class="wave-top"></div>
        <div class="wave-middle"></div>
        <div class="wave-bottom"></div>
    </div>
    
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card login-card">
                <div class="card-header ocean-gradient">
                    <h4 class="mb-0 text-white"><i class="fas fa-user-plus me-2"></i>Join the Ocean Research Community</h4>
                </div>
                <div class="card-body">
                    <div class="text-center mb-4">
                        <img src="https://cdn-icons-png.flaticon.com/512/3388/3388532.png" alt="Researcher Profile" class="login-icon">
                    </div>
                <form method="POST" action="{{ url_for('signup') }}">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="name" class="form-label">Full Name</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-user"></i></span>
                                <input type="text" class="form-control" id="name" name="name" required>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="email" class="form-label">Email Address</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                                <input type="email" class="form-control" id="email" name="email" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="username" class="form-label">Username</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-at"></i></span>
                                <input type="text" class="form-control" id="username" name="username" required>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="institution" class="form-label">Institution/Organization</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-university"></i></span>
                                <input type="text" class="form-control" id="institution" name="institution">
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="password" class="form-label">Password</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                                <input type="password" class="form-control" id="password" name="password" required>
                            </div>
                            <div class="form-text">Password must be at least 8 characters long and include a mix of letters, numbers, and symbols.</div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="confirm_password" class="form-label">Confirm Password</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                                <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="research_interests" class="form-label">Research Interests (Optional)</label>
                        <textarea class="form-control" id="research_interests" name="research_interests" rows="3" placeholder="Tell us about your research interests and areas of focus"></textarea>
                    </div>
                    
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="terms" name="terms" required>
                        <label class="form-check-label" for="terms">I agree to the <a href="#" target="_blank">Terms of Service</a> and <a href="#" target="_blank">Privacy Policy</a></label>
                    </div>
                    
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-primary">Create Account</button>
                    </div>
                </form>
                <div class="mt-3 text-center">
                    <p>Already have an account? <a href="{{ url_for('login') }}">Login here</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row justify-content-center mt-4 mb-5">
    <div class="col-md-8">
        <div class="card demo-card mt-4">
            <div class="card-body">
                <h5 class="card-title"><i class="fas fa-shield-alt me-2 text-primary"></i>Why Join DeepSea eDNA Explorer?</h5>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item demo-item"><i class="fas fa-check-circle text-success me-2"></i>Access cutting-edge eDNA analysis tools</li>
                            <li class="list-group-item demo-item"><i class="fas fa-check-circle text-success me-2"></i>Collaborate with marine researchers worldwide</li>
                            <li class="list-group-item demo-item"><i class="fas fa-check-circle text-success me-2"></i>Store and manage your deep-sea samples securely</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item demo-item"><i class="fas fa-check-circle text-success me-2"></i>Generate beautiful visualizations of your results</li>
                            <li class="list-group-item demo-item"><i class="fas fa-check-circle text-success me-2"></i>Create comprehensive reports for publications</li>
                            <li class="list-group-item demo-item"><i class="fas fa-check-circle text-success me-2"></i>Contribute to global marine biodiversity knowledge</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="bubbles">
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Password validation
    document.getElementById('password').addEventListener('input', function() {
        const password = this.value;
        const hasMinLength = password.length >= 8;
        const hasLetter = /[a-zA-Z]/.test(password);
        const hasNumber = /[0-9]/.test(password);
        const hasSymbol = /[^a-zA-Z0-9]/.test(password);
        
        if (hasMinLength && hasLetter && hasNumber && hasSymbol) {
            this.classList.remove('is-invalid');
            this.classList.add('is-valid');
        } else {
            this.classList.remove('is-valid');
            this.classList.add('is-invalid');
        }
    });
    
    // Password confirmation validation
    document.getElementById('confirm_password').addEventListener('input', function() {
        const password = document.getElementById('password').value;
        const confirmPassword = this.value;
        
        if (password === confirmPassword) {
            this.classList.remove('is-invalid');
            this.classList.add('is-valid');
        } else {
            this.classList.remove('is-valid');
            this.classList.add('is-invalid');
        }
    });
</script>
{% endblock %}